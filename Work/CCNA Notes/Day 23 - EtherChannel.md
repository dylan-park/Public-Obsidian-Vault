---
tags:
  - work
  - ccna
---
- ## EtherChannel - Groups multiple interfaces together to act as a single interface
	- STP will treat this group as a single interface
	- Traffic using the EtherChannel will be load balanced among the physical interfaces in the group. An algorithm is used to determine which traffic will use which physical interface
	- Other names include:
		- Port Channel
		- LAG (Link Aggregation Group)
	- EtherChannel load balances based on *flows*
		- A flow is a communication between two nodes in the network
		- Frames in the same flow will be forwarded using the same physical interface
			- If frames in the same flow were forwarded using different physical interfaces, some frames may arrive at the destination out of order, which can cause problems
		- Inputs that can be used in interface selection calculation:
			- Source MAC
			- Destination MAC
			- Source AND Destination MAC
			- Source IP
			- Destination IP
			- Source AND Destination IP
	- `show etherchannel load-balance` command shows current EtherChannel load balancing method
	- `port-channel load-balance *method*` command sets the load balance method
	- There are three methods of EtherChannel configuration on Cisco switches:
		- ### PAgP (Port Aggregation Protocol)
			- Cisco proprietary protocol
			- Dynamically negotiates the crewation/maintenance of the EtherChannel (like DTP for trunks)
		- ### LACP (Link Aggregation Control Protocol)
			- Industry Standard protocol (IEEE802.3ad)
			- Dynamically negotiates the creation/maintenance of the Ether Channel (like DTP does for trunks)
			- Preferred method for creating EtherChannels
		- ### Static EtherChannel
			- A protocol isn't used to determine if an EtherChannel should be formed
			- Interfaces are statically configured to form an EtherChannel
			- Usually avoided
	- Up to 8 interfaces can be formed into a single EtherChannel (LACP allows up to 16, but only 8 will be active, the other 8 will be in standby mode, waiting for an active interface to fail)
	- `channel-group *virtual-interface-channel* mode *mode*` command creates an EC and sets EC mode (also sets protocol automatically)
	- `channel-protocol *protocol*` command manually sets EC protocol
	- Member interfaces must have matching configs
		- Same duplex
		- Same speed
		- Same switchport mode
		- Same allowed VLANs/native VLAN
		- If an interface's configurations do not match the others, it will be excluded from the EtherChannel
	- `show etherchannel summary` command shows a summary of all EtherChannels on the device
	- `show etherchannel port-channel` command displays information about the virtual port-channel interfaces on the switch
- ## Layer 3 EtherChannel:
	- `no switchport` command required first to make the interfaces routed interfaces
	- `channel-group *virtual-interface-channel* mode *mode*` command creates an EC and sets EC mode (also sets protocol automatically) ^ccna-etherchannel-mode