---
tags:
  - devops
  - ccna
---
- ## Console Port Security
	- By default, no password is needed to access the CLI of a Cisco IOS device via the console port
	- You can configure a password on the console line
		- A user will have to enter a password to access the CLI via the console port
		- `line console 0` command enters console line config
			- There is only a single console line, so the number is always 0
		- `password *password*` command configures the console line's password
		- `login` command tells the device to require a user to enter the configured password to access the CLI via the console port
		- The password isn't displayed as you type it
	- Alternatively, you can configure the console line to require users to login using one of the configured usernames on the device
		- `username *username* secret *password*` command creates a username and password
		- `line console 0` command enters console line config
		- `login local` command tells the device to require a user to login using one of the configured usernames on the device
	- `exec-timeout *minuites* *seconds*` command logs the users out after a specified amount of inactivity
- ## Layer 2 Switch - Management IP
	- Layer 2 switches don't perform packet routing and don't build a routing table, they aren't IP routing aware
	- However, you can assign an IP address to an SVI to allow remote connections to the CLI of the switch (using Telnet or SSH)
		- `interface vlan1` command enters interface config mode for the VLAN
		- `ip address *ip-address* *mask*` command sets the address
		- `no shutdown` command activates the interface
		- `ip default-gateway *ip-address*` command configures the switch's default gateway
- ## Telnet ^ccna-telnet
	- Telnet (Teletype Network) is a protocol used to remotely access the CLI of a remote host
	- Telnet was developed in 1969
	- Telnet has been largely replaced by SSH, which is more secure
	- Telnet sends data in plain text, no encryption
	- The Telnet *server* (the device being connected to) listens for Telnet traffic on **TCP port 23**
	- ### Configuration
		- `enable secret *password` command sets a password
			- If a password/secret isn't configured, you won't be able to access privileged exec mode when connecting via Telnet
		- `username *username* secret *password*` command creates a username and password
		- *(Optional)* `access-list *number* permit host *ip-address*` command configures an ACL to limit which devices can connect to the VTY lines
		- `line vty *starting-line* *ending-line*` command enters line config mode on the selected lines
			- Telnet/SSH access is configured on the VTY lines
			- There are 16 lines available, so up to 16 users can be connected at once (0-15)
			- It is suggested to change all lines at the same time so they all have the same configuration
		- `login local` command tells the device to require a user to login using one of the configured usernames on the device
		- `exec-timeout *minuites* *seconds*` command logs the users out after a specified amount of inactivity
		- `transport input *connection-type*` command sets the transport input
			- telnet: allows only Telnet connections
			- ssh: allows only SSH connections
			- telnet ssh: allows both
			- all: allows all connections
			- none: allows no connections
		- *(Optional)* `access-class *class-number* in` command applies the ACL to the VTY lines
- ## SSH ^ccna-ssh
	- SSH (Secure Shell) was developed in 1995 to replace secure protocols like Telnet
	- SSHv2, a major revision of SSHv1, was release in 2006
	- If a device supports both version 1 and version 2, it is said to run 'version 1.99'
	- Provides security features such as data encryption and authentication
	- The SSH *server* (the device being connected to) listens for SSH traffic on **TCP port 22**
	- IOS images that support SSH will have 'K9' in their name
	- Cisco exports NPA (No Payload Encryption) IOS images to countries that have restrictions on encryption technologies
		- NPE IOS images do not support cryptographic features such as SSH
	- ### Configuration
		- `show ip ssh` command will show SSH info, like weather or not it is supported on the device
		- #### RSA Keys
			- To enable and use SSH, you must generate an RSA public and private key pair
			- The keys are used for data encryption/decryption, authentication, etc.
			- `hostname *name*` command configures a host name
			- `ip domain name *domain*` command configures the domain name of the device
				- The FQDN of the device is used to name the RSA keys
				- FQDN = Fully Qualified Domain Name (host name + domain name)
			- `crypto key generate rsa` command generates the RSA keys
				- length must be 768 bits or greater for SSHv2
		- `enable secret *password` command sets a password
			- If a password/secret isn't configured, you won't be able to access privileged exec mode when connecting via SSH
		- `username *username* secret *password*` command creates a username and password
		- *(Optional)* `access-list *number* permit host *ip-address*` command configures an ACL to limit which devices can connect to the VTY lines
		- *(Optional)* `ip ssh version 2` command restricts SSH to version 2 only
		- `line vty *starting-line* *ending-line*` command enters line config mode on the selected lines
		- `login local` command tells the device to require a user to login using one of the configured usernames on the device
		- `exec-timeout *minuites* *seconds*` command logs the users out after a specified amount of inactivity
		- `transport input ssh` command sets transport input to SSH only
			- Best practice is to limit VTY line connections to SSH only
		- *(Optional)* `access-class *class-number* in` command applies the ACL to the VTY lines
		- #### Summery
			1. Configure host name
			2. Configure DNS domain name
			3. Generate RSA key pair
			4. Configure enable PW, username/PW
			5. Enable SSHv2 (only)
			6. Configure VTY lines
			- Connect: `ssh -l *username* *ip-address` OR `ssh *username*@*ip-address*`